(self.webpackChunkKosovoRugbyFederation=self.webpackChunkKosovoRugbyFederation||[]).push([[2924],{2924:function(e,t,i){"use strict";i.r(t),i.d(t,{CreateAndEditPageModule:function(){return N}});var o=i(1116),n=i(1462),r=i(8809),a=i(9185),l=i(4762),s=i(3559),u=i(5614),d=i(2101),c=i(749);let g=(()=>{class e{constructor(){this.photos=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=i(7203);const Z=["slides"];function m(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-buttons",35),u.TgZ(1,"ion-button",36),u.NdJ("click",function(){return u.CHM(e),u.oxw().submitForm()}),u._UZ(2,"ion-icon",37),u.qZA(),u.qZA()}}function h(e,t){if(1&e&&u._UZ(0,"ion-img",43),2&e){const e=u.oxw(2);u.Q6J("src",null==e.selectedProfilePicture?null:e.selectedProfilePicture.base64)}}function f(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-button",36),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).uploadFile(1)}),u._uU(1,"Upload"),u.qZA()}}function q(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-button",36),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).uploadFile(2)}),u._uU(1,"Upload"),u.qZA()}}function y(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-button",36),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).uploadFile(3)}),u._uU(1,"Upload"),u.qZA()}}function A(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-row"),u.TgZ(1,"ion-col",38),u.TgZ(2,"ion-card",39),u.TgZ(3,"ion-card-header"),u.TgZ(4,"ion-card-title"),u._uU(5,"Profile Picture"),u.qZA(),u.qZA(),u.TgZ(6,"ion-card-content"),u.TgZ(7,"ion-input",40),u.NdJ("change",function(t){return u.CHM(e),u.oxw().fileSelector(1,t)}),u.qZA(),u.YNc(8,h,1,1,"ion-img",41),u.YNc(9,f,2,0,"ion-button",42),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"ion-col",38),u.TgZ(11,"ion-card",39),u.TgZ(12,"ion-card-header"),u.TgZ(13,"ion-card-title"),u._uU(14,"Transfer Form Notification"),u.qZA(),u.qZA(),u.TgZ(15,"ion-card-content"),u.TgZ(16,"ion-input",40),u.NdJ("change",function(t){return u.CHM(e),u.oxw().fileSelector(2,t)}),u.qZA(),u.YNc(17,q,2,0,"ion-button",42),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"ion-col",38),u.TgZ(19,"ion-card",39),u.TgZ(20,"ion-card-header"),u.TgZ(21,"ion-card-title"),u._uU(22,"World Rugby International Clearence Form"),u.qZA(),u.qZA(),u.TgZ(23,"ion-card-content"),u.TgZ(24,"ion-input",40),u.NdJ("change",function(t){return u.CHM(e),u.oxw().fileSelector(3,t)}),u.qZA(),u.YNc(25,y,2,0,"ion-button",42),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(7),u.Q6J("accept",".jpg, .png, .jpeg"),u.xp6(1),u.Q6J("ngIf",e.selectedProfilePicture),u.xp6(1),u.Q6J("ngIf",e.selectedProfilePicture),u.xp6(7),u.Q6J("accept",".jpg, .png, .jpeg, .pdf, .csv"),u.xp6(1),u.Q6J("ngIf",e.selectedTransferFormNotificationFile),u.xp6(7),u.Q6J("accept",".jpg, .png, .jpeg, .pdf, .csv"),u.xp6(1),u.Q6J("ngIf",e.selectedWorldRugbyIntClForm)}}const T=[{path:"",component:(()=>{class e{constructor(e,t,i,o,n,r){this.route=e,this.router=t,this.webService=i,this.alerts=o,this.imageService=n,this.publicService=r,this.isEdit=!1,this.playerDetails=null,this.selectedProfilePicture=null,this.selectedTransferFormNotificationFile=null,this.selectedWorldRugbyIntClForm=null,this.base64img=null,this.getSelectedFiles=new s.xQ,this.hasBaseDropZoneOver=!1,this.route.queryParams.subscribe(e=>{if(this.router.getCurrentNavigation().extras.state){this.isEdit=!0;let e=this.router.getCurrentNavigation().extras.state;this.playerDetails=e.playerDetails,console.log(e)}})}ngOnInit(){this.createAndEditPlayerForm=new n.cw({firstName:new n.NI(this.isEdit?this.playerDetails.firstName:"",{updateOn:"change",validators:[n.kI.required]}),middleName:new n.NI(this.isEdit?this.playerDetails.middleName:"",{updateOn:"change",validators:[n.kI.required]}),lastName:new n.NI(this.isEdit?this.playerDetails.lastName:"",{updateOn:"change",validators:[n.kI.required]}),ageGroup:new n.NI(this.isEdit?this.playerDetails.ageGroup.toString():"",{updateOn:"change",validators:[n.kI.required]}),birthTown:new n.NI(this.isEdit?this.playerDetails.birthTown:"",{updateOn:"change",validators:[n.kI.required]}),birthCountry:new n.NI(this.isEdit?this.playerDetails.birthCountry:"",{updateOn:"change",validators:[n.kI.required]}),nationality:new n.NI(this.isEdit?this.playerDetails.nationality:"",{updateOn:"change",validators:[n.kI.required]}),city:new n.NI(this.isEdit?this.playerDetails.city:"",{updateOn:"change",validators:[n.kI.required]}),country:new n.NI(this.isEdit?this.playerDetails.country:"",{updateOn:"change",validators:[n.kI.required]}),postalCode:new n.NI(this.isEdit?this.playerDetails.postalCode:"",{updateOn:"change",validators:[n.kI.required]}),streetAddress:new n.NI(this.isEdit?this.playerDetails.streetAddress:"",{updateOn:"change",validators:[n.kI.required]}),address:new n.NI(this.isEdit?this.playerDetails.address:"",{updateOn:"change",validators:[n.kI.required]}),birthDate:new n.NI(this.isEdit?this.playerDetails.birthDate:"",{updateOn:"change",validators:[n.kI.required]}),phoneNumber:new n.NI(this.isEdit?this.playerDetails.phoneNumber:"",{updateOn:"change",validators:[n.kI.required]}),personalNumber:new n.NI(this.isEdit?this.playerDetails.personalNumber:"",{updateOn:"change",validators:[n.kI.required]}),playingPosition:new n.NI(this.isEdit?this.playerDetails.playingPosition:"",{updateOn:"change",validators:[n.kI.required]}),canRepresanteKosovo:new n.NI(!!this.isEdit&&this.playerDetails.canRepresanteKosovo,{updateOn:"change",validators:[n.kI.required]}),isPlayerCommingFromTheJuridictionOfAnOtherUnion:new n.NI(!!this.isEdit&&this.playerDetails.isPlayerCommingFromTheJuridictionOfAnOtherUnion,{updateOn:"change",validators:[n.kI.required]}),previousClubName:new n.NI(this.isEdit?this.playerDetails.previousClubName:"",{updateOn:"change",validators:[n.kI.required]}),previousClubUnion:new n.NI(this.isEdit?this.playerDetails.previousClubUnion:"",{updateOn:"change",validators:[n.kI.required]}),previousClubRegistered:new n.NI(this.isEdit?this.playerDetails.previousClubRegistered:"",{updateOn:"change",validators:[n.kI.required]}),previousClubLeavingDate:new n.NI(this.isEdit?this.playerDetails.previousClubLeavingDate:"",{updateOn:"change",validators:[n.kI.required]}),playerDeclarationSigned:new n.NI(!!this.isEdit&&this.playerDetails.playerDeclarationSigned,{updateOn:"change",validators:[n.kI.required]}),playerSignedDeclaration:new n.NI(this.isEdit?this.playerDetails.playerSignedDeclaration:"",{updateOn:"change",validators:[n.kI.required]}),allowKRFToUsePersonalData:new n.NI(!!this.isEdit&&this.playerDetails.allowKRFToUsePersonalData,{updateOn:"change",validators:[n.kI.required]}),canKRFUseData:new n.NI(!!this.isEdit&&this.playerDetails.canKRFUseData,{updateOn:"change",validators:[n.kI.required]})})}fileSelector(e,t){return(0,l.mG)(this,void 0,void 0,function*(){console.log({type:e,event:t});let i=yield this.getBase64(t.target.files[0]);console.log(i),1==e?this.selectedProfilePicture={selectedFile:t.target.files[0],base64:i}:2==e?this.selectedTransferFormNotificationFile={selectedFile:t.target.files[0],base64:i}:3==e&&(this.selectedWorldRugbyIntClForm={selectedFile:t.target.files[0],base64:i})})}getBase64(e){return new Promise((t,i)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=()=>t(o.result),o.onerror=e=>i(e)})}fileToBase(e){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.getBase64(e).then(e=>e)})}submitForm(){this.createAndEditPlayerForm.invalid?this.createAndEditPlayerForm.markAllAsTouched():(this.alerts.presentLoadingController(),this.isEdit&&(this.createAndEditPlayerForm.value.playerId=this.playerDetails.id),this.createAndEditPlayerForm.value.ageGroup=+this.createAndEditPlayerForm.value.ageGroup,this.webService.calling_Post_From_Api("players",this.createAndEditPlayerForm.value).then(e=>{console.log(e),e.status?(this.alerts.presentToast("Player created successfully!","success"),this.isEdit=!0):this.alerts.presentToast("Something happend, please try again later!","danger"),this.alerts.dismissLoadingController()}).catch(e=>{this.alerts.dismissLoadingController(),console.log(e)}))}uploadFile(e){let t=new FormData;t.append("PlayerId",this.playerDetails.id),1==e&&t.append("ProfilePicture",this.selectedProfilePicture.selectedFile),2==e&&t.append("TransferFormNotification",this.selectedTransferFormNotificationFile.selectedFile),3==e&&t.append("WorldRugbyInternationalClearenceForm",this.selectedWorldRugbyIntClForm.selectedFile),this.webService.calling_Post_From_Api("players/uploadfiles",t,!0).then(e=>{console.log(e)}).catch(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(a.gz),u.Y36(a.F0),u.Y36(d.Q),u.Y36(c.m),u.Y36(g),u.Y36(p.O))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-create-and-edit"]],viewQuery:function(e,t){if(1&e&&u.Gf(Z,5),2&e){let e;u.iGM(e=u.CRH())&&(t.slides=e.first)}},decls:121,vars:4,consts:[["slot","start"],["defaultHref","tabs/tab2"],["slot","end",4,"ngIf"],[4,"ngIf"],["size-xs","12","size-lg","6","offset-lg","3"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","firstName","type","text"],["formControlName","middleName","type","text"],["formControlName","lastName","type","text"],["formControlName","ageGroup"],["value","0"],["value","1"],["formControlName","birthTown","type","text"],["formControlName","birthCountry","type","text"],["formControlName","nationality","type","text"],["formControlName","city","type","text"],["formControlName","country","type","text"],["formControlName","postalCode","type","number"],["formControlName","streetAddress","type","text"],["formControlName","address","type","text"],["formControlName","birthDate"],["formControlName","phoneNumber","type","number"],["formControlName","personalNumber","type","number"],["formControlName","playingPosition","type","text"],["slot","end","formControlName","canRepresanteKosovo"],["slot","end","formControlName","isPlayerCommingFromTheJuridictionOfAnOtherUnion"],["formControlName","previousClubName","type","text"],["formControlName","previousClubUnion","type","text"],["formControlName","previousClubRegistered","type","text"],["formControlName","previousClubLeavingDate"],["slot","end","formControlName","playerDeclarationSigned"],["formControlName","playerSignedDeclaration"],["slot","end","formControlName","allowKRFToUsePersonalData"],["slot","end","formControlName","canKRFUseData"],["slot","end"],[3,"click"],["slot","icon-only","name","checkmark"],["size-xs","12","size-lg","4"],[1,"ion-text-center"],["type","file",1,"ion-text-center",3,"accept","change"],[3,"src",4,"ngIf"],[3,"click",4,"ngIf"],[3,"src"]],template:function(e,t){1&e&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5),u.qZA(),u.YNc(6,m,3,0,"ion-buttons",2),u.qZA(),u.qZA(),u.TgZ(7,"ion-content"),u.TgZ(8,"ion-grid"),u.YNc(9,A,26,7,"ion-row",3),u.TgZ(10,"ion-row"),u.TgZ(11,"ion-col",4),u.TgZ(12,"form",5),u.NdJ("ngSubmit",function(){return t.submitForm()}),u.TgZ(13,"ion-item"),u.TgZ(14,"ion-label",6),u._uU(15," First Name: "),u.qZA(),u._UZ(16,"ion-input",7),u.qZA(),u.TgZ(17,"ion-item"),u.TgZ(18,"ion-label",6),u._uU(19," Middle Name: "),u.qZA(),u._UZ(20,"ion-input",8),u.qZA(),u.TgZ(21,"ion-item"),u.TgZ(22,"ion-label",6),u._uU(23," Last Name: "),u.qZA(),u._UZ(24,"ion-input",9),u.qZA(),u.TgZ(25,"ion-item"),u.TgZ(26,"ion-label",6),u._uU(27,"Age Group"),u.qZA(),u.TgZ(28,"ion-select",10),u.TgZ(29,"ion-select-option",11),u._uU(30,"Junior"),u.qZA(),u.TgZ(31,"ion-select-option",12),u._uU(32,"Senior"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(33,"ion-item"),u.TgZ(34,"ion-label",6),u._uU(35," Birth Town: "),u.qZA(),u._UZ(36,"ion-input",13),u.qZA(),u.TgZ(37,"ion-item"),u.TgZ(38,"ion-label",6),u._uU(39," Birth Country: "),u.qZA(),u._UZ(40,"ion-input",14),u.qZA(),u.TgZ(41,"ion-item"),u.TgZ(42,"ion-label",6),u._uU(43," Nationality: "),u.qZA(),u._UZ(44,"ion-input",15),u.qZA(),u.TgZ(45,"ion-item"),u.TgZ(46,"ion-label",6),u._uU(47," City: "),u.qZA(),u._UZ(48,"ion-input",16),u.qZA(),u.TgZ(49,"ion-item"),u.TgZ(50,"ion-label",6),u._uU(51," Country: "),u.qZA(),u._UZ(52,"ion-input",17),u.qZA(),u.TgZ(53,"ion-item"),u.TgZ(54,"ion-label",6),u._uU(55," Postal Code: "),u.qZA(),u._UZ(56,"ion-input",18),u.qZA(),u.TgZ(57,"ion-item"),u.TgZ(58,"ion-label",6),u._uU(59," Street Address: "),u.qZA(),u._UZ(60,"ion-input",19),u.qZA(),u.TgZ(61,"ion-item"),u.TgZ(62,"ion-label",6),u._uU(63," Address: "),u.qZA(),u._UZ(64,"ion-input",20),u.qZA(),u.TgZ(65,"ion-item"),u.TgZ(66,"ion-label",6),u._uU(67,"Birthdate"),u.qZA(),u._UZ(68,"ion-datetime",21),u.qZA(),u.TgZ(69,"ion-item"),u.TgZ(70,"ion-label",6),u._uU(71," Phone Number: "),u.qZA(),u._UZ(72,"ion-input",22),u.qZA(),u.TgZ(73,"ion-item"),u.TgZ(74,"ion-label",6),u._uU(75," Personal Number: "),u.qZA(),u._UZ(76,"ion-input",23),u.qZA(),u.TgZ(77,"ion-item"),u.TgZ(78,"ion-label",6),u._uU(79," Playing Position: "),u.qZA(),u._UZ(80,"ion-input",24),u.qZA(),u.TgZ(81,"ion-item"),u.TgZ(82,"ion-label"),u._uU(83,"Can Represent Kosovo"),u.qZA(),u._UZ(84,"ion-checkbox",25),u.qZA(),u.TgZ(85,"ion-item"),u.TgZ(86,"ion-label"),u._uU(87,"Is Player coming from the Juridiction of another Union?"),u.qZA(),u._UZ(88,"ion-checkbox",26),u.qZA(),u.TgZ(89,"ion-item"),u.TgZ(90,"ion-label",6),u._uU(91," Previous Club Name: "),u.qZA(),u._UZ(92,"ion-input",27),u.qZA(),u.TgZ(93,"ion-item"),u.TgZ(94,"ion-label",6),u._uU(95," Previous Club Union: "),u.qZA(),u._UZ(96,"ion-input",28),u.qZA(),u.TgZ(97,"ion-item"),u.TgZ(98,"ion-label",6),u._uU(99," Previous Club Registered: "),u.qZA(),u._UZ(100,"ion-input",29),u.qZA(),u.TgZ(101,"ion-item"),u.TgZ(102,"ion-label",6),u._uU(103,"Previous Club Leaving Date"),u.qZA(),u._UZ(104,"ion-datetime",30),u.qZA(),u.TgZ(105,"ion-item"),u.TgZ(106,"ion-label"),u._uU(107,"Player Declaration Signed"),u.qZA(),u._UZ(108,"ion-checkbox",31),u.qZA(),u.TgZ(109,"ion-item"),u.TgZ(110,"ion-label",6),u._uU(111,"Signed Date"),u.qZA(),u._UZ(112,"ion-datetime",32),u.qZA(),u.TgZ(113,"ion-item"),u.TgZ(114,"ion-label"),u._uU(115,"Allow KRF To use Personal Data"),u.qZA(),u._UZ(116,"ion-checkbox",33),u.qZA(),u.TgZ(117,"ion-item"),u.TgZ(118,"ion-label"),u._uU(119,"Can KFR Use Data?"),u.qZA(),u._UZ(120,"ion-checkbox",34),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(5),u.Oqu(t.isEdit?"Edit Player Data":"Register a new player"),u.xp6(1),u.Q6J("ngIf",!t.isEdit),u.xp6(3),u.Q6J("ngIf",t.isEdit),u.xp6(3),u.Q6J("formGroup",t.createAndEditPlayerForm))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,o.O5,r.W2,r.jY,r.Nd,r.wI,n._Y,n.JL,n.sg,r.Ie,r.Q$,r.pK,r.j9,n.JJ,n.u,r.t9,r.QI,r.n0,r.as,r.x4,r.nz,r.w,r.YG,r.gu,r.PM,r.Zi,r.gZ,r.FN,r.Xz],styles:[""]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[a.Bz.forChild(T)],a.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,n.u5,r.Pc,b,n.UX]]}),e})()}}]);