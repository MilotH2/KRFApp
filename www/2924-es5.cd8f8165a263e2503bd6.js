!function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkKosovoRugbyFederation=self.webpackChunkKosovoRugbyFederation||[]).push([[2924],{2924:function(i,n,o){"use strict";o.r(n),o.d(n,{CreateAndEditPageModule:function(){return I}});var r=o(1116),a=o(1462),l=o(8809),s=o(9185),u=o(4762),d=o(3559),c=o(5614),p=o(2101),g=o(749),Z=function(){var e=function e(){t(this,e),this.photos=[]};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),m=o(7203),h=["slides"];function f(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"ion-buttons",35),c.TgZ(1,"ion-button",36),c.NdJ("click",function(){return c.CHM(i),c.oxw().submitForm()}),c._UZ(2,"ion-icon",37),c.qZA(),c.qZA()}}function y(e,t){if(1&e&&c._UZ(0,"ion-img",43),2&e){var i=c.oxw(2);c.Q6J("src",null==i.selectedProfilePicture?null:i.selectedProfilePicture.base64)}}function q(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"ion-button",36),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).uploadFile(1)}),c._uU(1,"Upload"),c.qZA()}}function b(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"ion-button",36),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).uploadFile(2)}),c._uU(1,"Upload"),c.qZA()}}function A(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"ion-button",36),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).uploadFile(3)}),c._uU(1,"Upload"),c.qZA()}}function T(e,t){if(1&e){var i=c.EpF();c.TgZ(0,"ion-row"),c.TgZ(1,"ion-col",38),c.TgZ(2,"ion-card",39),c.TgZ(3,"ion-card-header"),c.TgZ(4,"ion-card-title"),c._uU(5,"Profile Picture"),c.qZA(),c.qZA(),c.TgZ(6,"ion-card-content"),c.TgZ(7,"ion-input",40),c.NdJ("change",function(e){return c.CHM(i),c.oxw().fileSelector(1,e)}),c.qZA(),c.YNc(8,y,1,1,"ion-img",41),c.YNc(9,q,2,0,"ion-button",42),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"ion-col",38),c.TgZ(11,"ion-card",39),c.TgZ(12,"ion-card-header"),c.TgZ(13,"ion-card-title"),c._uU(14,"Transfer Form Notification"),c.qZA(),c.qZA(),c.TgZ(15,"ion-card-content"),c.TgZ(16,"ion-input",40),c.NdJ("change",function(e){return c.CHM(i),c.oxw().fileSelector(2,e)}),c.qZA(),c.YNc(17,b,2,0,"ion-button",42),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"ion-col",38),c.TgZ(19,"ion-card",39),c.TgZ(20,"ion-card-header"),c.TgZ(21,"ion-card-title"),c._uU(22,"World Rugby International Clearence Form"),c.qZA(),c.qZA(),c.TgZ(23,"ion-card-content"),c.TgZ(24,"ion-input",40),c.NdJ("change",function(e){return c.CHM(i),c.oxw().fileSelector(3,e)}),c.qZA(),c.YNc(25,A,2,0,"ion-button",42),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var n=c.oxw();c.xp6(7),c.Q6J("accept",".jpg, .png, .jpeg"),c.xp6(1),c.Q6J("ngIf",n.selectedProfilePicture),c.xp6(1),c.Q6J("ngIf",n.selectedProfilePicture),c.xp6(7),c.Q6J("accept",".jpg, .png, .jpeg, .pdf, .csv"),c.xp6(1),c.Q6J("ngIf",n.selectedTransferFormNotificationFile),c.xp6(7),c.Q6J("accept",".jpg, .png, .jpeg, .pdf, .csv"),c.xp6(1),c.Q6J("ngIf",n.selectedWorldRugbyIntClForm)}}var v,N,U=[{path:"",component:(v=function(){function i(e,n,o,r,a,l){var s=this;t(this,i),this.route=e,this.router=n,this.webService=o,this.alerts=r,this.imageService=a,this.publicService=l,this.isEdit=!1,this.playerDetails=null,this.selectedProfilePicture=null,this.selectedTransferFormNotificationFile=null,this.selectedWorldRugbyIntClForm=null,this.base64img=null,this.getSelectedFiles=new d.xQ,this.hasBaseDropZoneOver=!1,this.route.queryParams.subscribe(function(e){if(s.router.getCurrentNavigation().extras.state){s.isEdit=!0;var t=s.router.getCurrentNavigation().extras.state;s.playerDetails=t.playerDetails,console.log(t)}})}var n,o,r;return n=i,(o=[{key:"ngOnInit",value:function(){this.createAndEditPlayerForm=new a.cw({firstName:new a.NI(this.isEdit?this.playerDetails.firstName:"",{updateOn:"change",validators:[a.kI.required]}),middleName:new a.NI(this.isEdit?this.playerDetails.middleName:"",{updateOn:"change",validators:[a.kI.required]}),lastName:new a.NI(this.isEdit?this.playerDetails.lastName:"",{updateOn:"change",validators:[a.kI.required]}),ageGroup:new a.NI(this.isEdit?this.playerDetails.ageGroup.toString():"",{updateOn:"change",validators:[a.kI.required]}),birthTown:new a.NI(this.isEdit?this.playerDetails.birthTown:"",{updateOn:"change",validators:[a.kI.required]}),birthCountry:new a.NI(this.isEdit?this.playerDetails.birthCountry:"",{updateOn:"change",validators:[a.kI.required]}),nationality:new a.NI(this.isEdit?this.playerDetails.nationality:"",{updateOn:"change",validators:[a.kI.required]}),city:new a.NI(this.isEdit?this.playerDetails.city:"",{updateOn:"change",validators:[a.kI.required]}),country:new a.NI(this.isEdit?this.playerDetails.country:"",{updateOn:"change",validators:[a.kI.required]}),postalCode:new a.NI(this.isEdit?this.playerDetails.postalCode:"",{updateOn:"change",validators:[a.kI.required]}),streetAddress:new a.NI(this.isEdit?this.playerDetails.streetAddress:"",{updateOn:"change",validators:[a.kI.required]}),address:new a.NI(this.isEdit?this.playerDetails.address:"",{updateOn:"change",validators:[a.kI.required]}),birthDate:new a.NI(this.isEdit?this.playerDetails.birthDate:"",{updateOn:"change",validators:[a.kI.required]}),phoneNumber:new a.NI(this.isEdit?this.playerDetails.phoneNumber:"",{updateOn:"change",validators:[a.kI.required]}),personalNumber:new a.NI(this.isEdit?this.playerDetails.personalNumber:"",{updateOn:"change",validators:[a.kI.required]}),playingPosition:new a.NI(this.isEdit?this.playerDetails.playingPosition:"",{updateOn:"change",validators:[a.kI.required]}),canRepresanteKosovo:new a.NI(!!this.isEdit&&this.playerDetails.canRepresanteKosovo,{updateOn:"change",validators:[a.kI.required]}),isPlayerCommingFromTheJuridictionOfAnOtherUnion:new a.NI(!!this.isEdit&&this.playerDetails.isPlayerCommingFromTheJuridictionOfAnOtherUnion,{updateOn:"change",validators:[a.kI.required]}),previousClubName:new a.NI(this.isEdit?this.playerDetails.previousClubName:"",{updateOn:"change",validators:[a.kI.required]}),previousClubUnion:new a.NI(this.isEdit?this.playerDetails.previousClubUnion:"",{updateOn:"change",validators:[a.kI.required]}),previousClubRegistered:new a.NI(this.isEdit?this.playerDetails.previousClubRegistered:"",{updateOn:"change",validators:[a.kI.required]}),previousClubLeavingDate:new a.NI(this.isEdit?this.playerDetails.previousClubLeavingDate:"",{updateOn:"change",validators:[a.kI.required]}),playerDeclarationSigned:new a.NI(!!this.isEdit&&this.playerDetails.playerDeclarationSigned,{updateOn:"change",validators:[a.kI.required]}),playerSignedDeclaration:new a.NI(this.isEdit?this.playerDetails.playerSignedDeclaration:"",{updateOn:"change",validators:[a.kI.required]}),allowKRFToUsePersonalData:new a.NI(!!this.isEdit&&this.playerDetails.allowKRFToUsePersonalData,{updateOn:"change",validators:[a.kI.required]}),canKRFUseData:new a.NI(!!this.isEdit&&this.playerDetails.canKRFUseData,{updateOn:"change",validators:[a.kI.required]})})}},{key:"fileSelector",value:function(e,t){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log({type:e,event:t}),i.next=3,this.getBase64(t.target.files[0]);case 3:n=i.sent,console.log(n),1==e?this.selectedProfilePicture={selectedFile:t.target.files[0],base64:n}:2==e?this.selectedTransferFormNotificationFile={selectedFile:t.target.files[0],base64:n}:3==e&&(this.selectedWorldRugbyIntClForm={selectedFile:t.target.files[0],base64:n});case 5:case"end":return i.stop()}},i,this)}))}},{key:"getBase64",value:function(e){return new Promise(function(t,i){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return i(e)}})}},{key:"fileToBase",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBase64(e).then(function(e){return e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}},{key:"submitForm",value:function(){var e=this;this.createAndEditPlayerForm.invalid?this.createAndEditPlayerForm.markAllAsTouched():(this.alerts.presentLoadingController(),this.isEdit&&(this.createAndEditPlayerForm.value.playerId=this.playerDetails.id),this.createAndEditPlayerForm.value.ageGroup=+this.createAndEditPlayerForm.value.ageGroup,this.webService.calling_Post_From_Api("players",this.createAndEditPlayerForm.value).then(function(t){console.log(t),t.status?(e.alerts.presentToast("Player created successfully!","success"),e.isEdit=!0):e.alerts.presentToast("Something happend, please try again later!","danger"),e.alerts.dismissLoadingController()}).catch(function(t){e.alerts.dismissLoadingController(),console.log(t)}))}},{key:"uploadFile",value:function(e){var t=new FormData;t.append("PlayerId",this.playerDetails.id),1==e&&t.append("ProfilePicture",this.selectedProfilePicture.selectedFile),2==e&&t.append("TransferFormNotification",this.selectedTransferFormNotificationFile.selectedFile),3==e&&t.append("WorldRugbyInternationalClearenceForm",this.selectedWorldRugbyIntClForm.selectedFile),this.webService.calling_Post_From_Api("players/uploadfiles",t,!0).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}}])&&e(n.prototype,o),r&&e(n,r),i}(),v.\u0275fac=function(e){return new(e||v)(c.Y36(s.gz),c.Y36(s.F0),c.Y36(p.Q),c.Y36(g.m),c.Y36(Z),c.Y36(m.O))},v.\u0275cmp=c.Xpm({type:v,selectors:[["app-create-and-edit"]],viewQuery:function(e,t){var i;1&e&&c.Gf(h,5),2&e&&c.iGM(i=c.CRH())&&(t.slides=i.first)},decls:121,vars:4,consts:[["slot","start"],["defaultHref","tabs/tab2"],["slot","end",4,"ngIf"],[4,"ngIf"],["size-xs","12","size-lg","6","offset-lg","3"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","firstName","type","text"],["formControlName","middleName","type","text"],["formControlName","lastName","type","text"],["formControlName","ageGroup"],["value","0"],["value","1"],["formControlName","birthTown","type","text"],["formControlName","birthCountry","type","text"],["formControlName","nationality","type","text"],["formControlName","city","type","text"],["formControlName","country","type","text"],["formControlName","postalCode","type","number"],["formControlName","streetAddress","type","text"],["formControlName","address","type","text"],["formControlName","birthDate"],["formControlName","phoneNumber","type","number"],["formControlName","personalNumber","type","number"],["formControlName","playingPosition","type","text"],["slot","end","formControlName","canRepresanteKosovo"],["slot","end","formControlName","isPlayerCommingFromTheJuridictionOfAnOtherUnion"],["formControlName","previousClubName","type","text"],["formControlName","previousClubUnion","type","text"],["formControlName","previousClubRegistered","type","text"],["formControlName","previousClubLeavingDate"],["slot","end","formControlName","playerDeclarationSigned"],["formControlName","playerSignedDeclaration"],["slot","end","formControlName","allowKRFToUsePersonalData"],["slot","end","formControlName","canKRFUseData"],["slot","end"],[3,"click"],["slot","icon-only","name","checkmark"],["size-xs","12","size-lg","4"],[1,"ion-text-center"],["type","file",1,"ion-text-center",3,"accept","change"],[3,"src",4,"ngIf"],[3,"click",4,"ngIf"],[3,"src"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c._UZ(3,"ion-back-button",1),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5),c.qZA(),c.YNc(6,f,3,0,"ion-buttons",2),c.qZA(),c.qZA(),c.TgZ(7,"ion-content"),c.TgZ(8,"ion-grid"),c.YNc(9,T,26,7,"ion-row",3),c.TgZ(10,"ion-row"),c.TgZ(11,"ion-col",4),c.TgZ(12,"form",5),c.NdJ("ngSubmit",function(){return t.submitForm()}),c.TgZ(13,"ion-item"),c.TgZ(14,"ion-label",6),c._uU(15," First Name: "),c.qZA(),c._UZ(16,"ion-input",7),c.qZA(),c.TgZ(17,"ion-item"),c.TgZ(18,"ion-label",6),c._uU(19," Middle Name: "),c.qZA(),c._UZ(20,"ion-input",8),c.qZA(),c.TgZ(21,"ion-item"),c.TgZ(22,"ion-label",6),c._uU(23," Last Name: "),c.qZA(),c._UZ(24,"ion-input",9),c.qZA(),c.TgZ(25,"ion-item"),c.TgZ(26,"ion-label",6),c._uU(27,"Age Group"),c.qZA(),c.TgZ(28,"ion-select",10),c.TgZ(29,"ion-select-option",11),c._uU(30,"Junior"),c.qZA(),c.TgZ(31,"ion-select-option",12),c._uU(32,"Senior"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(33,"ion-item"),c.TgZ(34,"ion-label",6),c._uU(35," Birth Town: "),c.qZA(),c._UZ(36,"ion-input",13),c.qZA(),c.TgZ(37,"ion-item"),c.TgZ(38,"ion-label",6),c._uU(39," Birth Country: "),c.qZA(),c._UZ(40,"ion-input",14),c.qZA(),c.TgZ(41,"ion-item"),c.TgZ(42,"ion-label",6),c._uU(43," Nationality: "),c.qZA(),c._UZ(44,"ion-input",15),c.qZA(),c.TgZ(45,"ion-item"),c.TgZ(46,"ion-label",6),c._uU(47," City: "),c.qZA(),c._UZ(48,"ion-input",16),c.qZA(),c.TgZ(49,"ion-item"),c.TgZ(50,"ion-label",6),c._uU(51," Country: "),c.qZA(),c._UZ(52,"ion-input",17),c.qZA(),c.TgZ(53,"ion-item"),c.TgZ(54,"ion-label",6),c._uU(55," Postal Code: "),c.qZA(),c._UZ(56,"ion-input",18),c.qZA(),c.TgZ(57,"ion-item"),c.TgZ(58,"ion-label",6),c._uU(59," Street Address: "),c.qZA(),c._UZ(60,"ion-input",19),c.qZA(),c.TgZ(61,"ion-item"),c.TgZ(62,"ion-label",6),c._uU(63," Address: "),c.qZA(),c._UZ(64,"ion-input",20),c.qZA(),c.TgZ(65,"ion-item"),c.TgZ(66,"ion-label",6),c._uU(67,"Birthdate"),c.qZA(),c._UZ(68,"ion-datetime",21),c.qZA(),c.TgZ(69,"ion-item"),c.TgZ(70,"ion-label",6),c._uU(71," Phone Number: "),c.qZA(),c._UZ(72,"ion-input",22),c.qZA(),c.TgZ(73,"ion-item"),c.TgZ(74,"ion-label",6),c._uU(75," Personal Number: "),c.qZA(),c._UZ(76,"ion-input",23),c.qZA(),c.TgZ(77,"ion-item"),c.TgZ(78,"ion-label",6),c._uU(79," Playing Position: "),c.qZA(),c._UZ(80,"ion-input",24),c.qZA(),c.TgZ(81,"ion-item"),c.TgZ(82,"ion-label"),c._uU(83,"Can Represent Kosovo"),c.qZA(),c._UZ(84,"ion-checkbox",25),c.qZA(),c.TgZ(85,"ion-item"),c.TgZ(86,"ion-label"),c._uU(87,"Is Player coming from the Juridiction of another Union?"),c.qZA(),c._UZ(88,"ion-checkbox",26),c.qZA(),c.TgZ(89,"ion-item"),c.TgZ(90,"ion-label",6),c._uU(91," Previous Club Name: "),c.qZA(),c._UZ(92,"ion-input",27),c.qZA(),c.TgZ(93,"ion-item"),c.TgZ(94,"ion-label",6),c._uU(95," Previous Club Union: "),c.qZA(),c._UZ(96,"ion-input",28),c.qZA(),c.TgZ(97,"ion-item"),c.TgZ(98,"ion-label",6),c._uU(99," Previous Club Registered: "),c.qZA(),c._UZ(100,"ion-input",29),c.qZA(),c.TgZ(101,"ion-item"),c.TgZ(102,"ion-label",6),c._uU(103,"Previous Club Leaving Date"),c.qZA(),c._UZ(104,"ion-datetime",30),c.qZA(),c.TgZ(105,"ion-item"),c.TgZ(106,"ion-label"),c._uU(107,"Player Declaration Signed"),c.qZA(),c._UZ(108,"ion-checkbox",31),c.qZA(),c.TgZ(109,"ion-item"),c.TgZ(110,"ion-label",6),c._uU(111,"Signed Date"),c.qZA(),c._UZ(112,"ion-datetime",32),c.qZA(),c.TgZ(113,"ion-item"),c.TgZ(114,"ion-label"),c._uU(115,"Allow KRF To use Personal Data"),c.qZA(),c._UZ(116,"ion-checkbox",33),c.qZA(),c.TgZ(117,"ion-item"),c.TgZ(118,"ion-label"),c._uU(119,"Can KFR Use Data?"),c.qZA(),c._UZ(120,"ion-checkbox",34),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(5),c.Oqu(t.isEdit?"Edit Player Data":"Register a new player"),c.xp6(1),c.Q6J("ngIf",!t.isEdit),c.xp6(3),c.Q6J("ngIf",t.isEdit),c.xp6(3),c.Q6J("formGroup",t.createAndEditPlayerForm))},directives:[l.Gu,l.sr,l.Sm,l.oU,l.cs,l.wd,r.O5,l.W2,l.jY,l.Nd,l.wI,a._Y,a.JL,a.sg,l.Ie,l.Q$,l.pK,l.j9,a.JJ,a.u,l.t9,l.QI,l.n0,l.as,l.x4,l.nz,l.w,l.YG,l.gu,l.PM,l.Zi,l.gZ,l.FN,l.Xz],styles:[""]}),v)}],C=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(U)],s.Bz]}),e}(),I=((N=function e(){t(this,e)}).\u0275fac=function(e){return new(e||N)},N.\u0275mod=c.oAB({type:N}),N.\u0275inj=c.cJS({imports:[[r.ez,a.u5,l.Pc,C,a.UX]]}),N)}}])}();